function easeOut(e,t){return function(r,o){var n=r/o-1,a=e,i=t-e,s=-i*(n*n*n*n-1)+a;return s}}function easeInOut(e,t){return function(r,o){var n=r/o/2,a=e,i=t-e;return 1>n?i/2*n*n*n*n*n+a:(n-=2,i/2*(n*n*n*n*n+2)+a)}}function adsr(e,t,r,o,n,a,i){return function(s,c){if(r>=s){var l=s/r,h=e,u=t-e,f=u*l+h;return f}if(r+o>=s){var l=(s-r)/o,h=t,u=n-t,f=u*l+h;return f}if(r+o+a>=s)return n;if(r+o+a+i>=s){var l=(s-r-o-a)/i,h=n,u=e-n,f=u*l+h;return f}return 0}}function lfo(e,t,r){return function(o,n){var a=2*Math.PI*o/r;return e+Math.sin(a)*t}}function comboType(e){return ComboTypeTable.length<=e&&(e=ComboTypeTable.length-1),ComboTypeTable[e]}function comma(e){var t=String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return t}function rgbToColor(e,t){var r=e.r,o=e.g,n=e.b;return void 0===t&&(t=void 0),"number"==typeof t?t={r:t,g:t,b:t}:"undefined"==typeof t&&(t={r:0,g:0,b:0}),(r+t.r<<16)+(o+t.g<<8)+(n+t.b)}function createRectShape(e,t,r,o,n,a){var i=new egret.Shape;return i.x=e,i.y=t,i.graphics.beginFill(n),i.graphics.drawRoundRect(0,0,r,o,a),i.graphics.endFill(),i}function createCircleShape(e,t,r,o){var n=new egret.Shape;return n.x=e,n.y=t,n.graphics.beginFill(o),n.graphics.drawCircle(0,0,r),n.graphics.endFill(),n}function createCircleFrameShape(e,t,r,o,n){var a=new egret.Shape;return a.x=e,a.y=t,a.graphics.lineStyle(n,o),a.graphics.drawCircle(0,0,r),a}function createLabelOld(e,t,r,o,n,a,i){var s=new eui.Label;return s.scaleX=n,s.scaleY=n,s.bold=i,s.size=o,s.text=r,s.textColor=a,s.x=e,s.y=t,s.multiline=!0,s}function halign(e,t,r,o){switch(r){case"left":e.anchorOffsetX=0,e.x=t.x-t.anchorOffsetX+o,e.textAlign="left";break;case"center":e.anchorOffsetX=e.width/2,e.x=t.x-t.anchorOffsetX+t.width/2+o,e.textAlign="center";break;case"right":e.anchorOffsetX=e.width,e.x=t.x-t.anchorOffsetX+t.width+o,e.textAlign="right"}}function valign(e,t,r){switch(r){case"top":return t.y;case"center":return t.y+(t.height-e.height)/2;case"bottom":return t.y+t.height-e.height}}function createLabel(e,t,r,o,n){void 0===n&&(n=!1);var a=new eui.Label;return a.bold=n,a.size=r,a.text=e,a.textColor=o,a.multiline=!0,setLabelText(a,e,t),a}function setLabelText(e,t,r){r?e.$positioning=r:r=e.$positioning,e.text=t;var o="undefined"==typeof r.offsetX?0:r.offsetX,n="undefined"==typeof r.offsetY?0:r.offsetY;switch(r.type){case"stage":var a={x:0,y:0,width:EgretGameObject.stageWidth,height:EgretGameObject.stageHeight,anchorOffsetX:0};halign(e,a,r.halign,o),e.y=valign(e,a,r.valign)+n;break;case"next-above":halign(e,r.anchor,r.align,o),e.y=r.anchor.y-e.height+n;break;case"next-below":halign(e,r.anchor,r.align,o),e.y=r.anchor.y+r.anchor.height+n;break;case"next-left":e.x=r.anchor.x-r.anchor.anchorOffsetX-e.width+o,e.y=valign(e,r.anchor,r.align)+n;break;case"next-right":e.x=r.anchor.x-r.anchor.anchorOffsetX+r.anchor.width+o,e.y=valign(e,r.anchor,r.align)+n}return e}var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);r.prototype=t.prototype,e.prototype=new r},__awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,s)}c((o=o.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function r(e){return function(t){return o([e,t])}}function o(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,a&&(i=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(o){r=[6,o],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var n,a,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:r(0),"throw":r(1),"return":r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__assign=this&&this.__assign||Object.assign||function(e){for(var t,r=1,o=arguments.length;o>r;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},GameObject=function(){function e(){this.destroyFlag=!1,this.children=[],e.objects.push(this)}return e.allDestroy=function(){e.objects=e.objects.filter(function(e){return e.destroy(),e["delete"](),!1})},e.update=function(){e.objects.forEach(function(e){return e.onUpdate()}),e.objects=e.objects.filter(function(e){return e.destroyFlag&&e["delete"](),!e.destroyFlag}),e.transit&&(e.allDestroy(),e.transit(),e.transit=null)},e.prototype.addChild=function(e){this.children.push(e)},e.prototype.removeChild=function(e,t){void 0===t&&(t=!0);var r=this.children.indexOf(e);if(-1===r)throw new Error("Child not found");var o=this.children[r];this.children.slice(r,1),t&&o.destroy()},e.prototype.removeChildren=function(e){void 0===e&&(e=!0),this.children.forEach(function(e){return e.destroy()}),this.children=[]},e.prototype.destroy=function(){this.destroyFlag=!0,this.removeChildren()},e.prototype.onDestroy=function(){},e.prototype["delete"]=function(){this.onDestroy();var t=e.objects.filter(function(e){return e.destroyFlag!==!0});e.objects=t},e.objects=[],e}();__reflect(GameObject.prototype,"GameObject");var EgretGameObject=function(e){function t(t){void 0===t&&(t=!0);var r=e.call(this)||this;return r.container=new egret.DisplayObjectContainer,r.container.name=name,r.visible=t,r}return __extends(t,e),t.init=function(e){t._stageWidth=egret.MainContext.instance.stage.stageWidth,t._stageHeight=egret.MainContext.instance.stage.stageHeight,t.mainStage=e},Object.defineProperty(t,"stageWidth",{get:function(){return t._stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stageHeight",{get:function(){return t._stageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rect",{set:function(e){var t=e.x,r=e.y,o=e.width,n=e.height;this.container.x=t,this.container.y=r,this.container.width=o,this.container.height=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return{x:this.container.x,y:this.container.y}},set:function(e){var t=e.x,r=e.y;this.container.x=t,this.container.y=r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{set:function(e){this.container.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorOffsetX",{set:function(e){this.container.anchorOffsetX=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorOffsetY",{set:function(e){this.container.anchorOffsetY=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{set:function(e){this.container.scaleX=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{set:function(e){this.container.scaleY=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{set:function(e){this.container.rotation=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{set:function(e){this.container.alpha=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stageWidth",{get:function(){return t._stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stageHeight",{get:function(){return t._stageHeight},enumerable:!0,configurable:!0}),t.prototype.addChild=function(e){this.addChildAt(e,void 0)},t.prototype.addChildAt=function(r,o){return e.prototype.addChild.call(this,r),r instanceof t?void this.addEgretDisplayObject(r.container,o):void console.log("addChild","Not Egret Object")},t.prototype.removeChild=function(r){return r instanceof t?(console.log("removeChild","Egret Object",r),this.removeEgretDisplayObject(r.container),void e.prototype.removeChild.call(this,r)):void console.log("removeChild","Not Egret Object")},t.prototype.removeChildren=function(){this.container.removeChildren(),e.prototype.removeChildren.call(this)},t.prototype.addEgretDisplayObject=function(e,t){void 0===t?this.container.addChild(e):this.container.addChildAt(e,t)},t.prototype.removeEgretDisplayObject=function(e){this.container.removeChild(e)},t.prototype.enableTouch=function(){this.container.touchEnabled=!0,this.container.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTapped,this)},t.prototype.disableTouch=function(){this.container.touchEnabled=!1,this.container.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTapped,this)},t.prototype.onDestroy=function(){this.container.hasEventListener&&this.container.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTapped,this),this.container.parent&&this.container.parent.removeChild(this.container),e.prototype.onDestroy.call(this)},t.prototype.onTapped=function(){console.warn("onTapped: unhandled")},t.prototype.onUpdate=function(){console.warn("updateContent: unhandled")},t.prototype.addAsLayer=function(){t.mainStage.addChild(this.container)},t}(GameObject);__reflect(EgretGameObject.prototype,"EgretGameObject");var EgretLayerGameObject=function(e){function t(){var t=e.call(this,!0)||this;return t.rect={x:0,y:0,width:EgretGameObject.stageWidth,height:EgretGameObject.stageHeight},t.addAsLayer(),t}return __extends(t,e),t}(EgretGameObject);__reflect(EgretLayerGameObject.prototype,"EgretLayerGameObject");var FramesOf4thNote=30,FramesOf8thNote=15,FramesOf16thNote=8,FramesOf32thNote=4,AnimationManager=function(){function e(e,t,r){if(this.queue=[],!t[r])throw new Error("指定したステータス("+r+")は存在しません");this.state_=r,this.counter_=0,this.longCounter=0,this.animations=t,this.object=e}return Object.defineProperty(e.prototype,"counter",{get:function(){return this.counter_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.state_},enumerable:!0,configurable:!0}),e.prototype.next=function(e){var t=this;if(console.log("next",e),Array.isArray(e)){var r=e.shift();e.forEach(function(e){return t.queue.push(e)}),e=r}else this.queue=[];var o=this.animations[e];if(void 0===e)throw new Error("指定したステータス("+this.state_+")は存在しません");o.onStart&&o.onStart(this.object,this.state_,{animation:o,manager:this}),this.state_=e,this.counter_=0},e.prototype.popNext=function(){if(0===this.queue.length)throw new Error("次のステータスが存在しません");var e=this.queue.shift();this.next(e)},e.prototype.update=function(){var e=this.object,t=this.animations[this.state_];if(void 0===t)throw new Error("指定したステータス("+this.state_+")は存在しません");t.alphas&&(t.alphas instanceof Function?e.alpha=t.alphas(this.counter_,t.frames):e.alpha=t.alphas[Math.min(this.counter_,t.alphas.length-1)]),t.scales&&(t.scales instanceof Function?e.scaleX=e.scaleY=t.scales(this.counter_,t.frames):e.scaleX=e.scaleY=t.scales[Math.min(this.counter_,t.scales.length-1)]),t.onFrame&&t.onFrame(e,{animation:t,longCounter:this.longCounter,counter:this.counter_,manager:this}),this.counter_++,this.longCounter++,this.counter_===t.frames&&(t.onComplete?t.onComplete(e,{animation:t,manager:this}):this.counter_=0)},e}();__reflect(AnimationManager.prototype,"AnimationManager");var Button=function(e){function t(t,r,o,n,a,i,s){void 0===s&&(s=!0);var c=e.call(this,s)||this;c.innerText=null,c.rect=t;var l=t.x,h=t.y,u=t.width,f=t.height,p=createRectShape(l,h,u,f,a,70);c.addEgretDisplayObject(p);var d=createLabelOld(l,h,i,r,o,n,!0);return d.anchorOffsetX=d.width/2,d.anchorOffsetY=d.height/2,d.x+=u/2,d.y+=f/2,d.textAlign=egret.HorizontalAlign.CENTER,d.verticalAlign=egret.VerticalAlign.MIDDLE,c.addEgretDisplayObject(d),c.innerText=d,c.enableTouch(),c}return __extends(t,e),t.prototype.onDestroy=function(){this.innerText=null,e.prototype.onDestroy.call(this)},t}(EgretGameObject);__reflect(Button.prototype,"Button");var TheGame=function(){function e(){}return Object.defineProperty(e,"scene",{get:function(){return this.scene_},enumerable:!0,configurable:!0}),e.initFirst=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return EgretGameObject.init(t.stage),e.scene_="loading",e.score_=0,e.bestScore_=0,e.bestRank_=void 0,e.currentLevel_=0,e.gameLayer=new GameLayer,e.uiLayer=new UILayer,egret.startTick(e.tickLoop,e),[4,Social.init()];case 1:return r.sent(),e.gotoTitle(),[2]}})})},e.gotoTitle=function(){console.log("TheGame title"),e.scene_="title",e.currentLevel_=0,e.score_=0,e.gameLayer.panels.start(),e.uiLayer.score.visible=!0,e.uiLayer.description.visible=!0},e.start=function(){console.log("TheGame start"),e.uiLayer.score.visible=!0,e.uiLayer.description.visible=!1,e.combo_=-1,e.currentLevel_=1,e.elapsedFramesOfTurn=0,e.elapsedFramesOfSession=0,e.scene_="playing"},Object.defineProperty(e,"currentLevel",{get:function(){return[e.currentLevel_,Levels[e.currentLevel_]]},enumerable:!0,configurable:!0}),e.gotoGameover=function(){e.scene_="gameover",e.bestScore_<e.score_&&(e.bestScore_=e.score_,Social.setScore(e.bestScore_)),e.gameLayer.panels.gameover(),e.uiLayer.score.visible=!1,e.uiLayer.resultOverlay.show()},e.tickLoop=function(t){GameObject.update();var r=e.currentLevel,o=r[1];switch(e.scene_){case"loading":break;case"title":break;case"playing":e.elapsedFramesOfSession+=1,e.elapsedFramesOfTurn+=1,o.framesOfTurn<e.elapsedFramesOfTurn&&(console.log("TIME OVER"),e.miss()),e.FRAMES_A_SESSION<e.elapsedFramesOfSession&&e.gotoGameover();break;case"gameover":}return!1},Object.defineProperty(e,"remaingMiliseconds",{get:function(){return(e.FRAMES_A_SESSION-e.elapsedFramesOfSession)/e.FPS},enumerable:!0,configurable:!0}),Object.defineProperty(e,"resultAge",{get:function(){var t=36865,r=e.score,o=t-r,n=Math.floor(o/365),a=o%365;return console.log("*********",t,r,o,n,a),{year:n,days:a}},enumerable:!0,configurable:!0}),e.setBest=function(e){this.bestRank_=e.bestRank,this.bestScore_=e.bestScore},Object.defineProperty(e,"bestScore",{get:function(){return this.bestScore_},enumerable:!0,configurable:!0}),Object.defineProperty(e,"score",{get:function(){return this.score_},enumerable:!0,configurable:!0}),Object.defineProperty(e,"bestRank",{get:function(){return this.bestRank_},enumerable:!0,configurable:!0}),Object.defineProperty(e,"currentComboType",{get:function(){return comboType(e.combo_)},enumerable:!0,configurable:!0}),e.gotCorrectPanel=function(t){"playing"!==e.scene&&e.start();var r=e.currentLevel_;e.combo_++,1<e.combo_&&(r*=e.combo_),e.score_+=r,e.currentLevel_=Math.min(e.currentLevel_+1,e.MAX_LEVEL),e.nextTurn()},e.gotWrongPanel=function(t){e.miss()},e.miss=function(){"playing"===e.scene_&&(e.combo_=-1,e.currentLevel_=Math.max(e.currentLevel_-1,1),e.nextTurn())},e.nextTurn=function(){console.log("TheGame nextTurn"),e.elapsedFramesOfTurn=0,e.gameLayer.panels.nextPanels()},e.MAX_LEVEL=50,e.FPS=60,e.FRAMES_A_SESSION=100*FramesOf4thNote,e}();__reflect(TheGame.prototype,"TheGame");var UILayer=function(e){function t(){var t=e.call(this)||this;return t.addChild(t.score=new ScoreUI),t.addChild(t.description=new Description),t.addChild(t.timelimit=new TimeLimit),t.addChild(t.resultOverlay=new ResultOverlay),t}return __extends(t,e),t.prototype.onUpdate=function(){},t}(EgretLayerGameObject);__reflect(UILayer.prototype,"UILayer");var Background=function(e){function t(){var t=e.call(this)||this,r=createRectShape(0,0,EgretGameObject.stageWidth,EgretGameObject.stageHeight,ColorPallet.BACKGROUND,0);return t.addEgretDisplayObject(r),t}return __extends(t,e),t.prototype.onUpdate=function(){},t}(EgretGameObject);__reflect(Background.prototype,"Background");var EffectLabel=function(e){function t(t,r,o,n,a,i){var s=e.call(this)||this;return s.rect={x:t,y:r,width:o,height:n},s.animation=0,s.originalY=0,s.label=createLabelOld(t,r,i,70,.5,a,!0),s.label.alpha=.2,s.label.anchorOffsetX=s.label.width/2,s.label.anchorOffsetY=s.label.height/2,s.addEgretDisplayObject(s.label),s}return __extends(t,e),t.prototype.onDestroy=function(){this.label=null,e.prototype.onDestroy.call(this)},t.prototype.onUpdate=function(){this.animation<20||(this.animation<40?(this.label.y=this.label.y-1,this.label.alpha=20):this.destroy())},t}(EgretGameObject);__reflect(EffectLabel.prototype,"EffectLabel");var Panel=function(e){function t(r,o,n,a,i){var s=e.call(this)||this;s.correctFlag=!1,s.position=o,s.level=r,s.radius=90,s.correctFlag=a;var c=0===Math.floor(2*Math.random())?1:-1,l=c*r.depthColor,h=void 0;return h=a?rgbToColor(n,l):rgbToColor(n),s.color=h,s.addEgretDisplayObject(createCircleShape(0,0,s.radius,h)),s.addEgretDisplayObject(createCircleShape(0,-s.radius+16,8,16777215)),s.enableTouch(),s.animationManager=new AnimationManager(s,t.animations,i),s}return __extends(t,e),t.prototype.onTapped=function(){"loading"!==TheGame.scene&&-1!==["on","waiting"].indexOf(this.animationManager.state)&&(this.correctFlag?(TheGame.gotCorrectPanel(this),this.animationManager.next(["tap","out-success"])):"playing"===TheGame.scene?(TheGame.gotWrongPanel(this),this.animationManager.next(["tap","out-miss"])):this.animationManager.next(["tap","on"]))},t.prototype.onUpdate=function(){this.animationManager.update()},t.prototype.start=function(){this.animationManager.next("in")},t.prototype.out=function(){this.animationManager.next("out")},t.prototype.gameover=function(){this.animationManager.next("out-gameover")},t.animations={waiting:{frames:2*FramesOf4thNote,scales:adsr(.95,1,2,2,.97,FramesOf4thNote-2,FramesOf4thNote),alphas:adsr(.95,1,2,2,.97,FramesOf4thNote-2,FramesOf4thNote),onFrame:function(e,t){var r=(t.animation,t.longCounter);e.rotation=360*r/(16*FramesOf4thNote)}},"in":{frames:FramesOf8thNote,scales:[0,.05,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,.95,1],onComplete:function(e,t){var r=t.manager;r.next("on")}},on:{frames:1*FramesOf4thNote,scales:adsr(.95,1.05,2,0,1.05,0,FramesOf4thNote),onFrame:function(e,t){var r=(t.animation,t.longCounter);e.rotation=360*r/e.level.framesOfTurn}},tap:{frames:FramesOf16thNote,scales:[1,.8,.85,.95,1.05,1.1,1],onComplete:function(e,t){var r=t.manager;r.popNext()}},out:{frames:FramesOf8thNote,alphas:[1,.95,.9,.85,.8,.7,.6,.5,.4,.3,.199999999999999,.15,.1,.05,0],scales:[1,1.005,1.01,1.02,1.03,1.04,1.08,1.1,1.1,1.05,1.75,1.85,1.9,1.95,2],onComplete:function(e,t){e.destroy()}},"out-success":{frames:FramesOf8thNote,alphas:[1,.95,.9,.85,.8,.7,.6,.5,.4,.3,.199999999999999,.15,.1,.05,0],scales:[1,1.005,1.01,1.02,1.03,1.04,1.08,1.1,1.1,1.05,1.75,1.85,1.9,1.95,2],onStart:function(e,t){var r=e.position,o=r.x,n=r.y,a=TheGame.currentComboType;TheGame.gameLayer.panels.addChild(new PanelCorrectHitEffect(a,o,n,e.radius,e.color))},onComplete:function(e,t){e.destroy()}},"out-miss":{frames:FramesOf8thNote,scales:[1,.95,.9,.8,.7,.5,.4,.3,.4,.6,.5,.4,.2,.1,0],onComplete:function(e,t){e.destroy()}},"out-gameover":{frames:2*FramesOf4thNote,alphas:easeOut(1,0),scales:easeOut(1,0),onStart:function(e,t){var r=e.position,o=r.x,n=r.y;TheGame.gameLayer.panels.addChild(new PanelGameoverEffect("best",o,n,e.radius))},onComplete:function(e,t){var r=t.manager;r.next("in-result")}},"in-result":{frames:FramesOf8thNote,scales:[0,.05,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,.95,1],onStart:function(e){e.alpha=1},onComplete:function(e,t){var r=t.manager;r.next("result")}},result:{frames:1*FramesOf4thNote,scales:adsr(.95,1.05,2,0,1.05,0,FramesOf4thNote),onFrame:function(e,t){var r=(t.animation,t.longCounter);e.rotation=360*r/(16*FramesOf4thNote)}}},t}(EgretGameObject);__reflect(Panel.prototype,"Panel");var PanelCorrectHitEffect=function(e){function t(r,o,n,a,i){var s=e.call(this)||this;return s.position={x:o,y:n},s.animationManager=new AnimationManager(s,t.animations,r),t.shapes[r].shapes.forEach(function(e){s.addEgretDisplayObject(createCircleFrameShape(0,0,a*e.radius,e.color,e.lineWidth))}),s}return __extends(t,e),t.prototype.onUpdate=function(){this.animationManager.update()},t.animations={single:{frames:1*FramesOf4thNote,scales:easeOut(1,1.2),alphas:easeOut(.6,0),onComplete:function(e,t){e.destroy()}},combo1:{frames:2*FramesOf4thNote,scales:easeOut(1,1.2),alphas:easeOut(.6,0),onComplete:function(e,t){e.destroy()}},combo2:{frames:4*FramesOf4thNote,scales:easeOut(1,1.2),alphas:easeOut(.6,0),onComplete:function(e,t){e.destroy()}},combo3:{frames:6*FramesOf4thNote,scales:easeOut(1,1.2),alphas:easeOut(.6,0),onComplete:function(e,t){e.destroy()}},combo4:{frames:8*FramesOf4thNote,scales:easeOut(1,1.2),alphas:easeOut(.6,0),onComplete:function(e,t){e.destroy()}}},t.shapes={single:{shapes:[{radius:1.1,color:16777215,lineWidth:4}]},combo1:{shapes:[{radius:1.1,color:16777215,lineWidth:4},{radius:1.2,color:16764159,lineWidth:6}]},combo2:{shapes:[{radius:1.1,color:16777215,lineWidth:4},{radius:1.2,color:16764159,lineWidth:6},{radius:1.4,color:13434879,lineWidth:8}]},combo3:{shapes:[{radius:1.1,color:16777215,lineWidth:4},{radius:1.2,color:16764159,lineWidth:6},{radius:1.4,color:13434879,lineWidth:8},{radius:1.8,color:16777164,lineWidth:10}]},combo4:{shapes:[{radius:1.1,color:16777215,lineWidth:4},{radius:1.2,color:16764159,lineWidth:6},{radius:1.4,color:13434879,lineWidth:8},{radius:1.8,color:16777164,lineWidth:10},{radius:2.6,color:13421772,lineWidth:12}]}},t}(EgretGameObject);__reflect(PanelCorrectHitEffect.prototype,"PanelCorrectHitEffect");var PanelGameoverEffect=function(e){function t(r,o,n,a){var i=e.call(this)||this;return i.position={x:o,y:n},i.animationManager=new AnimationManager(i,t.animations,r),t.shapes[r].shapes.forEach(function(e){i.addEgretDisplayObject(createCircleFrameShape(0,0,a*e.radius,e.color,e.lineWidth))}),i}return __extends(t,e),t.prototype.onUpdate=function(){this.animationManager.update()},t.animations={normal:{frames:4*FramesOf4thNote,scales:easeOut(1,1.05),alphas:easeOut(.4,0),onComplete:function(e,t){e.destroy()}},best:{frames:4*FramesOf4thNote,scales:easeOut(1,1.2),alphas:easeOut(.6,0),onComplete:function(e,t){e.destroy()}}},t.shapes={normal:{shapes:[{radius:1.1,color:16777215,lineWidth:4}]},best:{shapes:[{radius:1.1,color:16711680,lineWidth:4},{radius:1.2,color:16773376,lineWidth:6},{radius:1.4,color:10966952,lineWidth:8},{radius:1.8,color:16777215,lineWidth:10}]}},t}(EgretGameObject);__reflect(PanelGameoverEffect.prototype,"PanelGameoverEffect");var Panels=function(e){function t(){var t=e.call(this)||this;return t.panels=[],t.counterToCreate=void 0,t}return __extends(t,e),t.prototype.start=function(){this.removeChildren(),this.panels=[],this.createPanels("waiting")},t.prototype.nextPanels=function(){this.counterToCreate=0,this.panels.forEach(function(e){return e.out()})},t.prototype.createPanels=function(e){var t=TheGame.currentLevel,r=t[1];console.log("createPanels:",r);for(var o=r.rowcol,n=o[0],a=o[1],i=n*a,s=Math.floor(Math.random()*i),c=200,l={r:Math.floor(150*Math.random()+50),g:Math.floor(150*Math.random()+50),b:Math.floor(150*Math.random()+50)},h=(EgretGameObject.stageWidth-c*n+c)/2,u=(EgretGameObject.stageHeight-c*a+c)/2+100,f=0;i>f;f++){var p=f%n,d=(f-p)/n,m={x:p*c+h,y:d*c+u},g=new Panel(r,m,l,s===f,e);this.addChild(g),this.panels.push(g)}},t.prototype.onDestroy=function(){this.panels=void 0,e.prototype.onDestroy.call(this)},t.prototype.gameover=function(){this.panels.forEach(function(e){return e.gameover()})},t.prototype.onUpdate=function(){"undefined"!=typeof this.counterToCreate&&(this.counterToCreate--,this.counterToCreate<=0&&(this.panels=[],this.counterToCreate=void 0,this.createPanels("in")))},t}(EgretGameObject);__reflect(Panels.prototype,"Panels");var ColorPallet;!function(e){e[e.BACKGROUND=2236945]="BACKGROUND",e[e.BUTTON_LABEL=15658734]="BUTTON_LABEL",e[e.BUTTON_BACKGROUND=3355443]="BUTTON_BACKGROUND",e[e.GAMEOVER_BACKGROUND=2236945]="GAMEOVER_BACKGROUND",e[e.GAMEOVER_TEXT=3355443]="GAMEOVER_TEXT",e[e.UI_TEXT=15658734]="UI_TEXT",e[e.RESULT_TEXT_COLOR=15658734]="RESULT_TEXT_COLOR"}(ColorPallet||(ColorPallet={}));var ComboTypeTable=["single","combo1","combo2","combo2","combo3","combo3","combo3","combo4"],Levels=[{rowcol:[2,2],framesOfTurn:4*FramesOf4thNote,depthColor:50},{rowcol:[2,2],framesOfTurn:4*FramesOf4thNote,depthColor:50},{rowcol:[2,2],framesOfTurn:4*FramesOf4thNote,depthColor:50},{rowcol:[2,2],framesOfTurn:4*FramesOf4thNote,depthColor:45},{rowcol:[2,2],framesOfTurn:4*FramesOf4thNote,depthColor:45},{rowcol:[2,2],framesOfTurn:4*FramesOf4thNote,depthColor:40},{rowcol:[2,2],framesOfTurn:3*FramesOf4thNote,depthColor:45},{rowcol:[2,2],framesOfTurn:3*FramesOf4thNote,depthColor:45},{rowcol:[2,2],framesOfTurn:3*FramesOf4thNote,depthColor:40},{rowcol:[2,2],framesOfTurn:3*FramesOf4thNote,depthColor:40},{rowcol:[2,2],framesOfTurn:3*FramesOf4thNote,depthColor:35},{rowcol:[2,3],framesOfTurn:4*FramesOf4thNote,depthColor:50},{rowcol:[2,3],framesOfTurn:4*FramesOf4thNote,depthColor:50},{rowcol:[2,3],framesOfTurn:4*FramesOf4thNote,depthColor:45},{rowcol:[2,3],framesOfTurn:4*FramesOf4thNote,depthColor:45},{rowcol:[2,3],framesOfTurn:4*FramesOf4thNote,depthColor:40},{rowcol:[2,3],framesOfTurn:3*FramesOf4thNote,depthColor:45},{rowcol:[2,3],framesOfTurn:3*FramesOf4thNote,depthColor:45},{rowcol:[2,3],framesOfTurn:3*FramesOf4thNote,depthColor:40},{rowcol:[2,3],framesOfTurn:3*FramesOf4thNote,depthColor:40},{rowcol:[2,3],framesOfTurn:3*FramesOf4thNote,depthColor:35},{rowcol:[3,3],framesOfTurn:4*FramesOf4thNote,depthColor:40},{rowcol:[3,3],framesOfTurn:4*FramesOf4thNote,depthColor:40},{rowcol:[3,3],framesOfTurn:4*FramesOf4thNote,depthColor:35},{rowcol:[3,3],framesOfTurn:4*FramesOf4thNote,depthColor:35},{rowcol:[3,3],framesOfTurn:4*FramesOf4thNote,depthColor:30},{rowcol:[3,3],framesOfTurn:3*FramesOf4thNote,depthColor:35},{rowcol:[3,3],framesOfTurn:3*FramesOf4thNote,depthColor:35},{rowcol:[3,3],framesOfTurn:3*FramesOf4thNote,depthColor:30},{rowcol:[3,3],framesOfTurn:3*FramesOf4thNote,depthColor:30},{rowcol:[3,3],framesOfTurn:3*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:3*FramesOf4thNote,depthColor:35},{rowcol:[3,4],framesOfTurn:3*FramesOf4thNote,depthColor:35},{rowcol:[3,4],framesOfTurn:3*FramesOf4thNote,depthColor:30},{rowcol:[3,4],framesOfTurn:3*FramesOf4thNote,depthColor:30},{rowcol:[3,4],framesOfTurn:3*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:2*FramesOf4thNote,depthColor:30},{rowcol:[3,4],framesOfTurn:2*FramesOf4thNote,depthColor:30},{rowcol:[3,4],framesOfTurn:2*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:2*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:2*FramesOf4thNote,depthColor:20},{rowcol:[3,4],framesOfTurn:1.5*FramesOf4thNote,depthColor:30},{rowcol:[3,4],framesOfTurn:1.5*FramesOf4thNote,depthColor:30},{rowcol:[3,4],framesOfTurn:1.5*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:1.5*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:1.5*FramesOf4thNote,depthColor:20},{rowcol:[3,4],framesOfTurn:1*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:1*FramesOf4thNote,depthColor:25},{rowcol:[3,4],framesOfTurn:1*FramesOf4thNote,depthColor:20},{rowcol:[3,4],framesOfTurn:1*FramesOf4thNote,depthColor:20},{rowcol:[3,4],framesOfTurn:1*FramesOf4thNote,depthColor:15}],GameLayer=function(e){function t(){var t=e.call(this)||this;return t.addChild(new Background),t.addChild(t.panels=new Panels),t}return __extends(t,e),t.prototype.onUpdate=function(){},t}(EgretLayerGameObject);__reflect(GameLayer.prototype,"GameLayer");var Main=function(e){function t(){var r=e.call(this)||this;return t.I=r,r.once(egret.Event.ADDED_TO_STAGE,r.addToStage,r),r}return __extends(t,e),t.prototype.addToStage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,TheGame.initFirst(this)];case 1:return e.sent(),[2]}})})},t}(eui.UILayer);__reflect(Main.prototype,"Main");var Sdk=function(){function e(){}return e.loadSdk=function(){return __awaiter(this,void 0,void 0,function(){var e,t,r;return __generator(this,function(o){switch(o.label){case 0:return console.log("============================================================"),console.log("Liberapp.loadSdk:"),this.env=this.detectMode(location.origin),console.log("env: ",this.env),e=this.resolveSdkUrl(this.sdkPath),console.log("srcUrl: ",e),[4,this.loadScript(e)];case 1:return t=o.sent(),console.log("script:",t),r=window.LiberappSdk,"egret-wing"!==this.env?[3,3]:[4,r.enableDebug()];case 2:o.sent(),o.label=3;case 3:return console.log("liberappSdk:",r),[2,r]}})})},e.detectMode=function(e){return/^https:\/\/(.+)\.a\.liberapp\.net$/.test(e)?"production":/^https:\/\/(.+)\.a\.staging.\.liberapp\.net$/.test(e)?"staging":/^https:\/\/(.+)\.a\.development\.liberapp\.net$/.test(e)?"development":"egret-wing"},e.resolveSdkUrl=function(e){var t=this.baseUrls[this.env];return""+t+e},e.loadScript=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,new Promise(function(t,r){var o=document.createElement("script");o.async=!1,o.src=e,o.onload=function(){return t(o)},o.onerror=function(){return r(new Error("Can not load script: src:"+e))},document.head.append(o)})]})})},e.baseUrls={production:"https://liberapp.net",staging:"https://staging.liberapp.net",development:"https://localhost","egret-wing":"https://staging.liberapp.net"},e.sdkPath="/dist/sdk/liberapp-ja-0_9.js",e}();__reflect(Sdk.prototype,"Sdk");var Social=function(){function e(){}return e.init=function(){return __awaiter(this,void 0,void 0,function(){var e,t,r,o,n,a,i,s,c;return __generator(this,function(l){switch(l.label){case 0:return[4,Sdk.loadSdk()];case 1:return e=l.sent(),this.sdk=e,Toast.show({text:"ログイン中・・・",delay:3e4,canHide:!0}),[4,e.initializeAsync()];case 2:return l.sent(),[4,e.startGameAsync()];case 3:return l.sent(),Toast.show({text:this.playerName+"さんようこそ！",delay:3e4,canHide:!0}),t=this,[4,e.getLeaderboardAsync("default")];case 4:return t.leaderboard=l.sent(),[4,Promise.all([this.leaderboard.getEntryCountAsync(),this.leaderboard.getEntriesAsync(3,0),this.leaderboard.getPlayerEntryAsync()])];case 5:return r=l.sent(),o=r[0],n=r[1],a=r[2],this.playerEntry=a,this.hasBest?Toast.show({text:"今のところ"+o+"人中"+this.bestRank+"位です",delay:3e3}):(i=n[0],i&&(console.log(i),s=i.getPlayer().getName(),c=i.getScore(),Toast.show({text:o+"人が遊んでいます!\n一番は"+s+"さん\nスコアは"+c+"です",delay:3e3}))),[2]}})})},Object.defineProperty(e,"hasBest",{get:function(){return!!this.myBestEntry},enumerable:!0,configurable:!0}),Object.defineProperty(e,"bestScore",{get:function(){return this.hasBest?this.myBestEntry.getScore():0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"bestRank",{get:function(){return this.hasBest?this.myBestEntry.getRank():void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"playerEntry",{set:function(t){console.log("playerEntry:",this.myBestEntry,t),this.myBestEntry=t;var r={bestScore:e.bestScore,bestRank:e.bestRank};console.log("playerEntry: best:",r),TheGame.setBest(r)},enumerable:!0,configurable:!0}),e.setScore=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return this.leaderboard?(console.log("setScore "+e),Toast.show({text:"ハイスコアを送信中",delay:3e4,canHide:!0}),[4,this.leaderboard.setScoreAsync(e)]):(console.log("ハイスコアを送信しません"),[2]);case 1:return t=r.sent(),Toast.show({text:"順位は"+this.bestRank+"位でした",delay:3e3}),[2]}})})},Object.defineProperty(e,"playerName",{get:function(){return this.sdk.player.getName()||"名無し"},enumerable:!0,configurable:!0}),e}();__reflect(Social.prototype,"Social");var Description=function(e){function t(){var t=e.call(this,!1)||this,r=createLabel("色の違う\nパネルをタップ",{type:"stage",halign:"center",valign:"center",offsetY:-270},90,ColorPallet.UI_TEXT,!0);return t.addEgretDisplayObject(r),t}return __extends(t,e),t.prototype.onUpdate=function(){},t}(EgretGameObject);__reflect(Description.prototype,"Description");
var ResultOverlay=function(e){function t(){var t=e.call(this,!1)||this;t.am=new AnimationManager(t,{off:{frames:-1},"in":{frames:1*FramesOf4thNote,alphas:easeOut(0,.7),onStart:function(e){e.result=TheGame.resultAge,e.visible=!0,e.enableTouch(),setLabelText(e.score,comma(TheGame.score)),setLabelText(e.bestScore,"BEST "+comma(TheGame.bestScore)),e.tapToStart.visible=!1},onFrame:function(e){e.roulette()},onComplete:function(e,t){e.am.next("roulette")}},roulette:{frames:1*FramesOf4thNote,onFrame:function(e){e.roulette()},onComplete:function(e,t){e.am.next("on")}},on:{frames:-1,onStart:function(e){setLabelText(e.yearOfAge,""+e.result.year),setLabelText(e.daysOfAge,""+e.result.days),e.tapToStart.visible=!0},onFrame:function(e,t){var r=t.counter,o=t.animation;e.tapToStart.alpha=lfo(.9,.1,8*FramesOf4thNote)(r,o.frames),e.tapToStart.scaleX=e.tapToStart.scaleY=lfo(1.1,.05,4*FramesOf4thNote)(r,o.frames)}},out:{frames:FramesOf16thNote,alphas:easeOut(1,0),onComplete:function(e){e.visible=!1,e.disableTouch(),e.am.next("off"),TheGame.gotoTitle()}}},"off");var r=createRectShape(0,0,t.stageWidth,t.stageHeight,ColorPallet.GAMEOVER_BACKGROUND,0);t.addEgretDisplayObject(r);var o=createLabel(" ",{type:"stage",valign:"center",halign:"center"},240,ColorPallet.RESULT_TEXT_COLOR,!0);t.addEgretDisplayObject(t.yearOfAge=o);var n=createLabel("才",{type:"next-below",align:"center",anchor:o,offsetY:-30},40,ColorPallet.RESULT_TEXT_COLOR);t.addEgretDisplayObject(n);var a=createLabel(" ",{type:"next-below",align:"center",anchor:n,offsetY:30},120,ColorPallet.RESULT_TEXT_COLOR,!0);t.addEgretDisplayObject(t.daysOfAge=a);var i=createLabel("日",{type:"next-below",align:"center",anchor:a,offsetY:-5},40,ColorPallet.RESULT_TEXT_COLOR);t.addEgretDisplayObject(i);var s=createLabel("眼年齢",{type:"next-above",align:"center",anchor:o,offsetY:-30},40,ColorPallet.RESULT_TEXT_COLOR,!0);t.addEgretDisplayObject(s);var c=createLabel(" ",{type:"stage",halign:"center",valign:"top",offsetY:50},120,ColorPallet.RESULT_TEXT_COLOR,!0);t.addEgretDisplayObject(t.score=c);var l=createLabel(" ",{type:"next-below",anchor:c,align:"center",offsetY:10},40,ColorPallet.RESULT_TEXT_COLOR,!0);return t.addEgretDisplayObject(t.bestScore=l),t.tapToStart=createLabel("タップする",{type:"stage",valign:"bottom",halign:"center",offsetY:-60},60,ColorPallet.RESULT_TEXT_COLOR,!0),t.addEgretDisplayObject(t.tapToStart),t}return __extends(t,e),t.prototype.roulette=function(){setLabelText(this.yearOfAge,Math.floor(100*Math.random()+1).toString()),setLabelText(this.daysOfAge,Math.floor(365*Math.random()+1).toString())},t.prototype.show=function(){this.am.next("in")},t.prototype.onTapped=function(){"on"===this.am.state&&this.am.next("out")},t.prototype.onUpdate=function(){this.am.update()},t}(EgretGameObject);__reflect(ResultOverlay.prototype,"ResultOverlay");var RetryButtonInPlaying=function(e){function t(){return e.call(this,{x:EgretGameObject.stageWidth-.26*EgretGameObject.stageWidth,y:.16*EgretGameObject.stageWidth,width:.26*EgretGameObject.stageWidth,height:.12*EgretGameObject.stageWidth},60,.5,ColorPallet.BUTTON_LABEL,ColorPallet.BUTTON_BACKGROUND,"リトライ",!1)||this}return __extends(t,e),t.prototype.onTapped=function(){},t.prototype.onUpdate=function(){},t}(Button);__reflect(RetryButtonInPlaying.prototype,"RetryButtonInPlaying");var ScoreUI=function(e){function t(){var t=e.call(this,!0)||this;return t.score=null,t.best=null,t.position={x:0,y:0},t.score=createLabel("",{type:"stage",halign:"center",valign:"top",offsetY:20},180,ColorPallet.RESULT_TEXT_COLOR,!0),t.addEgretDisplayObject(t.score),t.best=createLabel("",{type:"next-below",anchor:t.score,align:"center",offsetY:0},30,ColorPallet.RESULT_TEXT_COLOR,!0),t.addEgretDisplayObject(t.best),t}return __extends(t,e),t.prototype.onDestroy=function(){this.score=void 0,this.best=void 0,e.prototype.onDestroy.call(this)},t.prototype.onUpdate=function(){setLabelText(this.score,comma(TheGame.score));var e;e=TheGame.bestRank?"BEST "+comma(TheGame.bestScore)+" "+comma(TheGame.bestRank)+"位":"BEST 0",setLabelText(this.best,e)},t}(EgretGameObject);__reflect(ScoreUI.prototype,"ScoreUI");var TimeLimit=function(e){function t(){var t=e.call(this,!1)||this;return t.timeText=null,t.timeText=createLabelOld(t.stageWidth/2,0,"",80,.5,ColorPallet.UI_TEXT,!0),t.timeText.anchorOffsetX=t.timeText.width/2,t.addEgretDisplayObject(t.timeText),t}return __extends(t,e),t.prototype.onUpdate=function(){this.timeText.text="TIME : "+TheGame.remaingMiliseconds.toFixed(1)},t}(EgretGameObject);__reflect(TimeLimit.prototype,"TimeLimit");var DefaultToastOptions={text:"",delay:3e3,canHide:!1},Toast=function(e){function t(t){var r=e.call(this)||this;return r.queue=[],r.rect=new eui.Rect,r.rect.alpha=0,r.label=new eui.Label,r.label.maxWidth=t,r.rect.addEventListener(eui.UIEvent.CREATION_COMPLETE,r.onRectCreationComplete,r),r.label.addEventListener(eui.UIEvent.RESIZE,r.onLabelResized,r),r.addChild(r.rect),egret.MainContext.instance.stage.addChild(r),r}return __extends(t,e),t.show=function(e){var r=__assign({},DefaultToastOptions,e);this.I||(this.I=new t(.6*Main.I.stage.width)),this.I.show(r)},t.destory=function(){var e=this.I;this.I=void 0,e&&(e.rect.removeChildren(),e.removeChildren(),e.rect=void 0,e.label=void 0)},t.prototype.show=function(e){if(console.log("Toast.show",e),this.currentOptions){if(!this.currentOptions.canHide)return void this.queue.push(e);this.currentTween.setPaused(!0),this.currentTween=void 0,this.currentOptions=void 0,this.queue=[]}this.currentOptions=e,this.toastText=e.text,egret.MainContext.instance.stage.setChildIndex(this,-1),this.currentTween=egret.Tween.get(this.rect),this.currentTween.to({alpha:1},300).wait(e.delay).call(this.onStartHide,this)},t.prototype.onStartHide=function(){console.log("Toast.onStartHide"),void 0!==this.currentTween&&(this.currentTween=egret.Tween.get(this.rect),this.currentTween.to({alpha:0},300).call(this.onCompleteHide,this))},t.prototype.onCompleteHide=function(){if(console.log("Toast.onCompleteHide"),this.currentTween=void 0,this.currentOptions=void 0,0!==this.queue.length){var e=this.queue.shift();this.show(e)}},t.prototype.onRectCreationComplete=function(){console.log("Toast.onRectCreationComplete"),this.rect.fillColor=0,this.rect.fillAlpha=.6,this.rect.horizontalCenter=0,this.rect.verticalCenter=0,this.rect.ellipseWidth=30,this.rect.ellipseHeight=30,this.label.x=20,this.label.y=20,this.label.size=28,this.rect.addChild(this.label),this.toastText=""},Object.defineProperty(t.prototype,"toastText",{set:function(e){console.log("Toast.toastText:"),this.label.text=e},enumerable:!0,configurable:!0}),t.prototype.onLabelResized=function(){console.log("Toast.onLabelResized:"),this.rect.width=this.label.width+40,this.rect.height=this.label.height+40,this.rect.x=(Main.I.width-this.rect.width)/2,this.rect.y=(Main.I.height-this.rect.height)/2},t}(egret.DisplayObjectContainer);__reflect(Toast.prototype,"Toast");